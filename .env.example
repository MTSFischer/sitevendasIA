# =============================================================
# IA ATENDIMENTO - VARIÁVEIS DE AMBIENTE
# Copie este arquivo para .env e preencha os valores
# =============================================================

# ----- OPENAI -----
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o
OPENAI_TTS_VOICE=nova
# Opções de voz: alloy, echo, fable, onyx, nova, shimmer

# ----- SERVIDOR -----
PORT=3000
NODE_ENV=production
# URL pública do servidor (necessário para webhooks do Instagram)
PUBLIC_URL=https://seudominio.com.br

# ----- WHATSAPP -----
# Números de WhatsApp (formato: 5511999999999)
# Adicione quantos números quiser, separados por vírgula
WHATSAPP_NUMBERS=5511999999999,5511888888888

# Modo de atendimento por número:
# "segmento" = cada número atende um segmento
# "geral" = todos os números atendem todos os segmentos com triagem
WHATSAPP_MODE=geral

# Segmento por número (usado se WHATSAPP_MODE=segmento)
# Formato: NUMERO=SEGMENTO separados por vírgula
# Segmentos: LIMPA_NOMES, REVISAO_CONTRATUAL, MULTAS_CNH
WHATSAPP_SEGMENTOS=5511999999999=LIMPA_NOMES,5511888888888=REVISAO_CONTRATUAL

# ----- INSTAGRAM -----
# Token de acesso à página do Facebook/Instagram
INSTAGRAM_ACCESS_TOKEN=EAAxxxxx
# ID da página do Instagram (Page ID)
INSTAGRAM_PAGE_ID=123456789
# Token de verificação para o webhook (você define qualquer string)
INSTAGRAM_VERIFY_TOKEN=meu_token_secreto_instagram

# ----- BANCO DE DADOS -----
DATABASE_PATH=./data/database.sqlite

# ----- HANDOFF HUMANO -----
# Número para onde leads qualificados são encaminhados
HANDOFF_WHATSAPP=5511777777777
# E-mail para notificação de leads (opcional)
HANDOFF_EMAIL=atendimento@escritorio.com.br

# ----- CONFIGURAÇÕES DA IA -----
# Temperatura de resposta (0.0 = mais preciso, 1.0 = mais criativo)
AI_TEMPERATURE=0.7
# Máximo de tokens por resposta
AI_MAX_TOKENS=800
# Limite de mensagens no histórico por conversa
AI_MAX_HISTORY=20

# ----- ÁUDIO -----
# Habilitar resposta em áudio por padrão
AUDIO_ENABLED_DEFAULT=true
# Máximo de caracteres para gerar áudio (respostas muito longas vão por texto)
AUDIO_MAX_CHARS=500

# ----- SEGURANÇA -----
# Secret para validar webhooks do Meta
META_APP_SECRET=seu_app_secret_aqui

# Chave de acesso ao dashboard e endpoints admin (/api/leads, /api/stats, etc.)
# Informe no header: X-API-Key: <valor>  OU  como query: ?key=<valor> no dashboard
ADMIN_API_KEY=troque-por-uma-chave-segura-aqui

# ----- FILA / RATE LIMIT -----
# Tempo mínimo entre mensagens do mesmo usuário (ms). Padrão: 1500
RATE_LIMIT_MS=1500
# Profundidade máxima da fila por usuário (anti-spam). Padrão: 5
MAX_QUEUE_DEPTH=5
